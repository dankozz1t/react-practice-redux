{"version":3,"file":"static/js/946.98ca4a9f.chunk.js","mappings":"+NAIMA,E,MAAmBC,GAAAA,OAAa,CACpCC,QAAS,8DAMEC,EAHS,kBACpBH,EAAiBI,IAAI,GAAI,CAAEC,OAAQ,CAAEC,KAAM,EAAGC,MAPzB,KAMD,E,6BC2DtB,EA7DqB,WACnB,OAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAEMC,GAAOC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,IAAV,IACxBG,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRN,GAAa,GACb,IACET,IAEGgB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPV,GAAY,SAAAK,GAAK,wBAAQA,IAAR,OAAkBK,GAAlB,GAClB,IACAC,SAAQ,WACPT,GAAa,EACd,GAGJ,CAFC,MAAOU,GACPC,QAAQC,IAAIF,EAAMG,QACnB,CACF,GAAE,IAWH,GAAId,EACF,OAAO,uCAGT,IAAMe,EAAWjB,EAASkB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,YAAb,OAC5B,2BACE,wBAAKD,KACL,uBAAIC,KACJ,mBACEC,KAAK,SACLC,QAAS,WAnBQ,IAAAC,IAoBA,CAAEL,GAAAA,EAAIC,KAAAA,EAAMC,YAAAA,GAnB7BjB,EAAKqB,MAAK,qBAAGN,KAAgBK,EAAKL,EAAxB,IACZO,MAAM,qBAAD,OAAsBF,EAAKJ,OAIlCb,EAAS,CAAEe,KAAMK,EAAAA,EAAUC,QAASJ,GAe/B,EAJH,mBAHOL,EADmB,IAe9B,OACE,iCACE,2CACA,eAAIU,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,IAAK,QAA5D,SACGf,MAIR,C","sources":["shared/service/api.service.js","pages/ProductsPage/ProductsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst LIMIT_PRODUCTS = 10;\n\nconst instanceProducts = axios.create({\n  baseURL: 'https://62becfba0bc9b125615fd0f7.mockapi.io/api/products?',\n});\n\nconst fetchProducts = () =>\n  instanceProducts.get('', { params: { page: 1, limit: LIMIT_PRODUCTS } });\n\nexport const api = {\n  fetchProducts,\n};\n","import React, { useState, useEffect } from 'react';\nimport { api } from 'shared/service/api.service';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { ADD_CART } from '../../redux/cart/cart-types';\n\nconst ProductsPage = () => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const cart = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setIsLoading(true);\n    try {\n      api\n        .fetchProducts()\n        .then(({ data }) => {\n          setProducts(state => [...state, ...data]);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }, []);\n\n  const handleBuyClick = item => {\n    if (cart.some(({ id }) => id === item.id)) {\n      alert(`Duplicate product ${item.name}`);\n      return;\n    }\n\n    dispatch({ type: ADD_CART, payload: item });\n  };\n\n  if (isLoading) {\n    return <h2>Loading...</h2>;\n  }\n\n  const elements = products.map(({ id, name, description }) => (\n    <li key={id}>\n      <h3>{name}</h3>\n      <p>{description}</p>\n      <button\n        type=\"button\"\n        onClick={() => {\n          handleBuyClick({ id, name, description });\n        }}\n      >\n        Buy\n      </button>\n    </li>\n  ));\n\n  return (\n    <>\n      <h2>Products Page</h2>\n      <ul style={{ display: 'flex', flexDirection: 'column', gap: '40px' }}>\n        {elements}\n      </ul>\n    </>\n  );\n};\n\nexport default ProductsPage;\n"],"names":["instanceProducts","axios","baseURL","api","get","params","page","limit","useState","products","setProducts","isLoading","setIsLoading","cart","useSelector","state","dispatch","useDispatch","useEffect","then","data","finally","error","console","log","message","elements","map","id","name","description","type","onClick","item","some","alert","ADD_CART","payload","style","display","flexDirection","gap"],"sourceRoot":""}